function t(t){const a=t.target,s=a.dataset.newsId;a.textContent.includes("Add")?(a.textContent="Remove from Favorite",a.classList.add("active_btn"),async function(t){if(t.includes("video")||t.includes("slideshow"))return console.log("wrong news");const a=(await async function(t){try{return await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=_id:("${t}")&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`).then((t=>t.json()))}catch(t){console.error(t)}}(t)).response.docs[0],{_id:s,section_name:o,abstract:i,pub_date:c,web_url:r}=a,d=a.headline.main,l=0===a.multimedia.length?"https://user-images.githubusercontent.com/110947394/222411348-dc3ba506-91e5-4318-9a9e-89fcf1a764a8.jpg":`https://static01.nyt.com/${a.multimedia[0].url}`,v={_id:s,section_name:o,abstract:i,pub_date:c,web_url:r,photoUrl:l,title:d},_=n("favorites");void 0===_?e("favorites",[v]):(_.push(v),e("favorites",_))}(s)):(console.log("delete from fav"),a.textContent="Add to Favorite",a.classList.remove("active_btn"),function(t){const a=n("favorites"),s=a.findIndex((e=>e._id===t));a.splice(s,1),e("favorites",a)}(s))}function e(t,e){try{const n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error(t)}}function n(t){try{const e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error(t)}}const a=document.getElementById("favorite-articles");function s(){let t="";a.innerHTML="";const e=n("favorites");void 0!==e&&e.forEach((e=>t+=function(t){const{_id:e,section_name:n,abstract:a,pub_date:s,web_url:o,photoUrl:i,title:c}=t;return`\n            <div class="news-card">\n              <img src="${i}" alt="заглушка" />\n              <div class="news-card__info">\n                <div class="news-card__category">${n}</div>\n                <button class="news-card__favorite-btn active_btn"\n                data-news-id="${e}">\n                  'Remove from Favorite'\n                </button>\n                <h2 class="news-card__title">${c}</h2>\n                <p class="news-card__description">${a.length>100?a.substring(0,100)+"...":a}</p>\n                <div class="news-card__date-div">\n                <div class="news-card__date">${new Date(s).toLocaleDateString()}</div>\n                <button class="btn-read-more news-card__read-more">\n                <ahref="${o}" target="_blank">Read more</ahref=>\n                </button>\n                </div>\n              </div>\n            </div>\n          `}(e))),""!==t&&void 0!==e||(t='\n  <div class="favorite-news__none">\n    <p class="favorite-news__none__title">We haven\'t found news on this page</p>\n  </div>'),a.insertAdjacentHTML("beforeend",t)}s(),a.addEventListener("click",(e=>{null!==e.target.closest(".news-card__favorite-btn")&&(t(e),s())}));
//# sourceMappingURL=favorite.a49c06d4.js.map
