{"mappings":"AAAA,MAGMA,EAAWC,SAASC,cAAc,UAQpB,WAChB,GAAiC,IAA7BF,EAASG,SAASC,OAAc,CAChCC,QAAQC,IAAI,SACZ,MAAMC,EAAS,6DACfP,EAASQ,UAAYD,C,CACvBF,QAAQC,IAAI,Y,CAXlBG,GAegBC,iBACd,IAAIH,EAAS,GACbP,EAASQ,UAAY,GAIrB,MACMG,SAkDSD,eAAUE,GACzB,IACE,aAAaC,MACX,qEAA0BD,gDAC1BE,MAAKC,GAAQA,EAAKC,Q,CACpB,MAAOC,GACPZ,QAAQY,MAAMA,E,EAzDGC,CADF,uDAECC,SAASC,KAC3Bb,GAOkB,SAAII,GACtB,MAAMU,EAAQV,EAAKW,SAASC,KACtBC,GAAa,EAEbC,EACgB,IAApBd,EAAKe,WACD,4BAA4Bf,EAAKe,WAAW,GAAGC,MAC/C,mCAEAC,IAAEA,EAAGC,aAAEA,EAAYC,SAAEA,EAAQC,SAAEA,EAAQC,QAAEA,GAAYrB,EAI3D,MAAO,8DAEec,mHAEyBI,iEAEjCL,EAAa,aAAe,qBACXI,wBACfJ,EAAa,uBAAyB,0FAEXH,2DAE7BS,EAAS1B,OAAS,IACd0B,EAASG,UAAU,EAAG,KAAO,MAC7BH,sGAGyB,IAAII,KACjCH,GACAI,mFACsCH,wG,CAxClCI,CAAezB,EAAK,IAGtCX,EAASqC,mBAAmB,YAAa9B,E,CAxB3C+B,GAkFaC,OAAOC,KAAKC,cAEpBC,QAAOC,GAAO,wBAAwBC,KAAKD,KAAME,SAAQF,IAC5D,MAAMG,EAAQL,aAAaM,QAAQJ,GACnCtC,QAAQC,IAAI,sBAACqC,MAAAG,IAAqB","sources":["src/js/read-markup.js"],"sourcesContent":["const API_KEY = 'u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn';\nconst URL_SEARCH = 'https://api.nytimes.com/svc/search/v2/articlesearch.json';\n\nconst readList = document.querySelector('.read');\n\nisReadEmpty();\n// getReadNews(100000008677561);\ncreateReadPage();\n\n\n// Для порожньої сторінки\nfunction isReadEmpty() {\n    if (readList.children.length === 0) {\n        console.log('empty');\n        const markup = '<li class=\"read-item-empty\"><h2>Nothing read yet</h2></li>';\n        readList.innerHTML = markup;\n    } console.log('Not empty');\n};\n\n// Формуємо сторінку\nasync function createReadPage() {\n  let markup = '';\n  readList.innerHTML = '';\n  //   for (let i = 0; i < localStorage.length; i++) {\n  //     let storageKey = localStorage.key(i);\n  let storageKey = \"nyt://article/59fa3c31-ddd7-562c-ab32-e202a892d697\";\n  const data = await getReadNews(storageKey);\n  const news = data.response.docs;\n  markup = markup + createReadNews(news[0]);\n// }\n  \n  readList.insertAdjacentHTML('beforeend', markup);\n}\n\n// Формуємо картку новини\nfunction createReadNews(news) {\n  const title = news.headline.main;\n  const isFavorite = true;\n\n  const photoUrl =\n    news.multimedia !== 0\n      ? `https://static01.nyt.com/${news.multimedia[0].url}`\n      : 'https://via.placeholder.com/400';\n\n  const { _id, section_name, abstract, pub_date, web_url } = news;\n\n\n\n  return `\n          <div class=\"news-card\">\n            <img src=\"${photoUrl}\" alt=\"заглушка\" />\n            <div class=\"news-card__info\">\n              <div class=\"news-card__category\">${section_name}</div>\n              <button class=\"news-card__favorite-btn ${\n                isFavorite ? 'active_btn' : ''\n              }\" data-news-id=\"${_id}\">\n                ${isFavorite ? 'Remove from Favorite' : 'Add to Favorite'}\n              </button>\n              <h2 class=\"news-card__title\">${title}</h2>\n              <p class=\"news-card__description\">${\n                abstract.length > 100\n                  ? abstract.substring(0, 100) + '...'\n                  : abstract\n              }</p>\n              <div class=\"news-card__date-div\">\n              <div class=\"news-card__date\">${new Date(\n                pub_date\n              ).toLocaleDateString()}</div>\n              <a class=\"news-card__read-more\" href=\"${web_url}\" target=\"_blank\">Read more</a>\n              </div>\n            </div>\n          </div>\n        `;\n}\n\n// Відправляємо запит\n\nasync function getReadNews(query) {\n  try {\n    return await fetch(\n      `${URL_SEARCH}?fq=_id:(\"${query}\")&api-key=${API_KEY}`\n    ).then(resp => resp.json());\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n\n// Перевірка наявності в локал сторідж ключів потрібного формата\nconst keys = Object.keys(localStorage);\n\nkeys.filter(key => /^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(key)).forEach(key => {\n  const value = localStorage.getItem(key);\n  console.log(`Значення для ключа ${key}: ${value}`);\n});"],"names":["$a6108ac09bc68599$var$readList","document","querySelector","children","length","console","log","markup","innerHTML","$a6108ac09bc68599$var$isReadEmpty","async","news","query","fetch","then","resp","json","error","$a6108ac09bc68599$var$getReadNews","response","docs","title","headline","main","isFavorite","photoUrl","multimedia","url","_id","section_name","abstract","pub_date","web_url","substring","Date","toLocaleDateString","$a6108ac09bc68599$var$createReadNews","insertAdjacentHTML","$a6108ac09bc68599$var$createReadPage","Object","keys","localStorage","filter","key","test","forEach","value","getItem"],"version":3,"file":"read.84177017.js.map"}