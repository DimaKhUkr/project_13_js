const e=document.getElementById("weather");function t(){e.innerHTML='<div class="weather__loading">Wait a second plz...</div>',navigator.geolocation.getCurrentPosition((t=>{!async function(t,n){let a;a=t&&n?`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${n}&appid=f5984abfd7be02d0f0f71396692dd7ba&units=metric`:"https://api.openweathermap.org/data/2.5/weather?units=metric&q=Kyiv&appid=f5984abfd7be02d0f0f71396692dd7ba";try{const t=await fetch(a),n=await t.json();t.ok?function(t){const n=t.coord.lat,a=t.coord.lon;console.log(t);const s=t.name,o=Math.round(t.main.temp),i=t.weather[0].main,c=t.weather[0].icon,r=(new Date).toLocaleDateString("en-US",{weekday:"short"}),d=(new Date).toLocaleDateString("en-US",{day:"numeric"}).toUpperCase(),l=(new Date).toLocaleDateString("en-US",{month:"short"}),p=(new Date).toLocaleDateString("en-US",{year:"numeric"}).toUpperCase();let m=`<div class="header__weather">\n          <div class="temp__info">${o}°</div>\n          <div class="status__location">\n            <div class="status">\n              <p class="status__name">${i}</p>\n            </div>\n            <div class="location">\n              <p class="location__name">${s}</p>\n              </div>\n            </div>\n          </div>\n          <div class="icon__picture">\n            <img class="weather__picture" src="https://openweathermap.org/img/w/${c}.png" alt="Clouds">\n          </div>\n          <div class="date__wrapper">\n            <div class="day">${r}</div>\n            <div class="date">${d} ${l} ${p}</div>\n          </div>\n          <button class="weatherForweek" id="weatherForweek">Weather for 5 days</button>\n          `;e.innerHTML=m;document.getElementById("weatherForweek").addEventListener("click",(()=>async function(t,n){const a=`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${n}&appid=f5984abfd7be02d0f0f71396692dd7ba&units=metric`;try{const t=await fetch(a),n=await t.json();t.ok?function(t){const n=[];let a=new Date(t.list[0].dt_txt).getDate(),s=new Date(t.list[0].dt_txt).toLocaleDateString("en-US",{weekday:"short"}),o=t.list[0].main.temp,i=t.list[0].main.temp,c=t.list[0].weather[0].icon,r=`https://openweathermap.org/img/wn/${c}@2x.png`;for(let e=1;e<t.list.length;e++){const d=new Date(t.list[e].dt_txt),l=d.getDate();if(l!==a){const p=d.toLocaleDateString("en-US",{month:"short"});n.push({dayOfWeek:s,dayOfMonth:a,month:p,tempMin:o,tempMax:i,iconUrl:r}),a=l,s=d.toLocaleDateString("en-US",{weekday:"short"}),o=t.list[e].main.temp,i=t.list[e].main.temp,c=t.list[e].weather[0].icon,r=`https://openweathermap.org/img/wn/${c}@2x.png`}else t.list[e].main.temp<o&&(o=t.list[e].main.temp),t.list[e].main.temp>i&&(i=t.list[e].main.temp)}e.innerHTML="";const d=document.createElement("button");e.appendChild(d).classList.add("backBtn"),d.innerHTML="Back",d.addEventListener("click",(()=>{window.location.reload()})),n.forEach((t=>{const{dayOfWeek:n,dayOfMonth:a,month:s,tempMin:o,tempMax:i,iconUrl:c}=t,r=`\n        <div class="day__card">\n          <div class="dayOfMonth">${a}</div>\n          <div class="dayOfWeek">${n}</div>\n        </div>\n        <div class="iconUrl">\n            <img class="weather__picture__5days" src="${c}" alt="weather4days">\n          </div>\n        <div class="icon__status">\n          <div class="tempMax">Max temp:${Math.round(i)}°</div>\n          <div class="tempMin">Min temp:${Math.round(o)}°</div>\n        </div>\n      `,d=document.createElement("div");d.innerHTML=r,e.appendChild(d).classList.add("forecast__wrapper")}))}(n):e.innerHTML=n.message}catch(e){console.error(e)}}(n,a)))}(n):e.innerHTML=n.message}catch(e){console.error(e)}}(t.coords.latitude,t.coords.longitude)}),(e=>{console.error(e)}))}const n=document.getElementById("main-page");n.addEventListener("click",(e=>{null!==e.target.closest(".news-card__favorite-btn")&&function(e){const t=e.target,n=t.dataset.newsId;null!==localStorage.getItem(`favorite_${n}`)?(localStorage.removeItem(`favorite_${n}`),t.textContent="Add to Favorite",t.classList.remove("active")):(localStorage.setItem(`favorite_${n}`,!0),t.textContent="Remove from Favorite",t.classList.add("active"))}(e)})),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),a=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",a),n.addEventListener("click",a),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const a=document.getElementById("category-btn");const s=document.getElementById("searchForm");!async function(){try{await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn",{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=[];for(const n of e.results)t.push(n.display_name);return t})).then((e=>{for(let t=0;t<=5;t++)a.insertAdjacentHTML("beforeend",`<button type="button" class="category_btn">${e[t]}</button>`);a.insertAdjacentHTML("beforeend",'<select name="Others" class="category_btn select_btn">\n            <option value="Others" hidden>Others</option>\n            </select>');const t=document.querySelector(".select_btn");for(let n=6;n<e.length;n++)t.insertAdjacentHTML("beforeend",`<option value="${e[n]}">${e[n]}</option>`)}))}catch(e){console.error(e)}}(),t(),async function(){const e=await async function(){try{return await fetch("https://api.nytimes.com/svc/mostpopular/v2/viewed/7.json?api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn",{headers:{"Content-Type":"application/json"}}).then((e=>e.json()))}catch(e){console.error(e)}}();console.log(e.results);const a=e.results.map((e=>{const t=0!==e.media.length?e.media[0]["media-metadata"][2].url:"https://via.placeholder.com/400",{title:n,abstract:a,published_date:s,url:o,section:i,id:c}=e,r=null!==localStorage.getItem(`favorite_${c}`);return`<div class="news-card">\n            <img src="${t}" alt="заглушка" />\n            <div class="news-card__info">\n              <div class="news-card__category">${i}</div>\n              <button class="news-card__favorite-btn ${r?"active":""}" data-news-id="${c}">\n                ${r?"Remove from Favorite":"Add to Favorite"}\n              </button>\n              <h2 class="news-card__title">${n}</h2>\n              <p class="news-card__description">${a.length>100?a.substring(0,100)+"...":a}</p>\n              <div class="news-card__date-div">\n              <div class="news-card__date">${new Date(s).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${o}" target="_blank">Read more</a>\n              </div>\n            </div>\n          </div>`}));n.insertAdjacentHTML("beforeend",a.join("")),document.addEventListener("DOMContentLoaded",t)}(),s.addEventListener("submit",(async function(e){e.preventDefault();const a=e.target.elements.search.value.trim();console.log(a);const s="https://via.placeholder.com/400";n.replaceChildren();const o=await async function(e,t){const n=`https://api.nytimes.com/svc/search/v2/articlesearch.json?page=${e}&q=${t}&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`;try{return await fetch(n,{headers:{"Content-Type":"application/json"}}).then((e=>e.json()))}catch(e){console.error(e)}}(3,a);console.dir(o.response),0===o.response.docs.length&&(console.log(o.response.docs.length),n.innerHTML=`<div class="news-card">\n            <img src="${s}" alt="заглушка" />\n            </div>`);const i=o.response.docs.map((e=>{const t=e.headline.main,{_id:n,section_name:a,abstract:o,pub_date:i,web_url:c}=e,r=null!==localStorage.getItem(`favorite_${n}`);return`\n          <div class="news-card">\n            <img src="${s}" alt="заглушка" />\n            <div class="news-card__info">\n              <div class="news-card__category">${a}</div>\n              <button class="news-card__favorite-btn ${r?"active":""}" data-news-id="${n}">\n                ${r?"Remove from Favorite":"Add to Favorite"}\n              </button>\n              <h2 class="news-card__title">${t}</h2>\n              <p class="news-card__description">${o.length>100?o.substring(0,100)+"...":o}</p>\n              <div class="news-card__date-div">\n              <div class="news-card__date">${new Date(i).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${c}" target="_blank">Read more</a>\n              </div>\n            </div>\n          </div>\n        `}));n.insertAdjacentHTML("beforeend",i.join("")),document.addEventListener("DOMContentLoaded",t),e.target.reset()}));
//# sourceMappingURL=favorite.4a9e63fd.js.map
