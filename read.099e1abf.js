const e=document.querySelector(".read");function n(e){return`\n  <li class="read-item">\n      <div class="read-title">\n        <h2 class="read-date">${e}</h2>\n        <div class="read-arrow"></div>\n      </div>\n      <ul class="read-gallery">\n      </ul>\n  </li>\n        `}function t(e){const n=e.headline.main,t=0!==e.multimedia?`https://static01.nyt.com/${e.multimedia[0].url}`:"https://via.placeholder.com/400",{_id:a,section_name:s,abstract:c,pub_date:i,web_url:l}=e;return`\n         <li>\n          <div class="news-card">\n            <img src="${t}" alt="заглушка" />\n            <div class="news-card__info">\n              <div class="news-card__category">${s}</div>\n              <button class="news-card__favorite-btn active_btn" data-news-id="${a}">\n                Remove from Favorite\n              </button>\n              <h2 class="news-card__title">${n}</h2>\n              <p class="news-card__description">${c.length>100?c.substring(0,100)+"...":c}</p>\n              <div class="news-card__date-div">\n              <div class="news-card__date">${new Date(i).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${l}" target="_blank">Read more</a>\n              </div>\n            </div>\n          </div>\n         </div>\n      </div>\n    </li>\n         `}async function a(e){try{return await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=_id:("${e}")&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`).then((e=>e.json()))}catch(e){console.error(e)}}!function(){if(0===e.children.length){console.log("empty");const n='<li class="read-item-empty"><h2>Nothing read yet</h2><div class="read-empty"></div></li > ';e.innerHTML=n}console.log("Not empty")}(),async function(){let s="",c="",i="";e.innerHTML="";for(let e=0;e<localStorage.length;e+=1){let l=localStorage.key(e);if(/^\d{2}\/\d{2}\/\d{4}$/.test(l)){s+=n(l),console.log(l);const e=JSON.parse(localStorage.getItem(l));console.log(e);for(let n=0;n<e.length;n+=1){let s=e[n];console.log(s);const i=(await a(s)).response.docs;c+=t(i[0])}i=s+c}}e.insertAdjacentHTML("beforeend",i)}();
//# sourceMappingURL=read.099e1abf.js.map
