const e=document.getElementById("main-page");e.addEventListener("click",(e=>{null!==e.target.closest(".news-card__favorite-btn")&&function(e){const t=e.target,a=t.dataset.newsId;null!==localStorage.getItem(`favorite_${a}`)?(localStorage.removeItem(`favorite_${a}`),t.textContent="Add to Favorite",t.classList.remove("active")):(localStorage.setItem(`favorite_${a}`,!0),t.textContent="Remove from Favorite",t.classList.add("active"))}(e)}));document.getElementById("searchForm").addEventListener("submit",(async function(t){t.preventDefault();const a=t.value;e.replaceChildren();const n=await async function(e){const t=`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${e}&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`;try{return await fetch(t,{headers:{"Content-Type":"application/json"}}).then((e=>e.json()))}catch(e){console.error(e)}}(a);console.dir(n.response.docs);const s=n.response.docs.map((e=>{const t=e.headline.main,{_id:a,section_name:n,lead_paragraph:s,pub_date:o,web_url:r}=e,c=null!==localStorage.getItem(`favorite_${a}`);return`\n          <div class="news-card">\n            <img src="./src/images/asia.png">\n            <div class="news-card__info">\n              <div class="news-card__category">${n}</div>\n              <button class="news-card__favorite-btn ${c?"active":""}" data-news-id="${a}">\n                ${c?"Remove from Favorite":"Add to Favorite"}\n              </button>\n              <h2 class="news-card__title">${t}</h2>\n              <p class="news-card__description">${s.length>100?s.substring(0,100)+"...":s}</p>\n              <div class="news-card__date">${new Date(o).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${r}" target="_blank">Read more</a>\n            </div>\n          </div>\n        `}));e.innerHTML=s.join("")}));
//# sourceMappingURL=index.9b1d723a.js.map
