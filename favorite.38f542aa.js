const e=document.getElementById("main-page");e.addEventListener("click",(e=>{null!==e.target.closest(".news-card__favorite-btn")&&function(e){const t=e.target,n=t.dataset.newsId;null!==localStorage.getItem(`favorite_${n}`)?(localStorage.removeItem(`favorite_${n}`),t.textContent="Add to Favorite",t.classList.remove("active")):(localStorage.setItem(`favorite_${n}`,!0),t.textContent="Remove from Favorite",t.classList.add("active"))}(e)})),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),o=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",o),n.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const t=document.getElementById("category-btn");const n=document.getElementById("searchForm");!async function(){try{await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn",{headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=[];for(const n of e.results)t.push(n.display_name);return console.log(t),t})).then((e=>{for(let n=0;n<=5;n++)t.insertAdjacentHTML("beforeend",`<button type="button" class="category_btn">${e[n]}</button>`);t.insertAdjacentHTML("beforeend",'<select name="Others" class="category_btn select_btn">\n            <option value="Others" hidden>Others</option>\n            </select>');const n=document.querySelector(".select_btn");for(let t=6;t<e.length;t++)n.insertAdjacentHTML("beforeend",`<option value="${e[t]}">${e[t]}</option>`)}))}catch(e){console.error(e)}}(),n.addEventListener("submit",(async function(t){t.preventDefault();const n=t.target.elements.search.value.trim();console.log(n),e.replaceChildren();const o=await async function(e){const t=`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${e}&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`;try{return await fetch(t,{headers:{"Content-Type":"application/json"}}).then((e=>e.json()))}catch(e){console.error(e)}}(n);console.dir(o.response.docs),0===o.response.docs.length&&(console.log(o.response.docs.length),e.innerHTML='<div class="news-card">\n            <img src="https://via.placeholder.com/400" alt="заглушка" />\n            </div>');const s=o.response.docs.map((e=>{const t=e.headline.main,{_id:n,section_name:o,abstract:s,pub_date:a,web_url:c}=e,r=null!==localStorage.getItem(`favorite_${n}`);return`\n          <div class="news-card">\n            <img src="https://via.placeholder.com/400" alt="заглушка" />\n            <div class="news-card__info">\n              <div class="news-card__category">${o}</div>\n              <button class="news-card__favorite-btn ${r?"active":""}" data-news-id="${n}">\n                ${r?"Remove from Favorite":"Add to Favorite"}\n              </button>\n              <h2 class="news-card__title">${t}</h2>\n              <p class="news-card__description">${s.length>100?s.substring(0,100)+"...":s}</p>\n              <div class="news-card__date-div">\n              <div class="news-card__date">${new Date(a).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${c}" target="_blank">Read more</a>\n              </div>\n            </div>\n          </div>\n        `}));e.innerHTML=s.join("");const a=document.createElement("div");a.classList.add("weather-card"),a.innerHTML='<div class="news-card">\n  <img src="https://via.placeholder.com/400" alt="Погода" /></div>';let c=0;console.log(window.innerWidth),window.innerWidth>800&&window.innerWidth<1206?c=1:window.innerWidth>1206&&(c=2),console.log(c);const r=e.children[`${c}`];e.insertBefore(a,r),t.target.reset()}));
//# sourceMappingURL=favorite.38f542aa.js.map
