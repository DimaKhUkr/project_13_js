{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAAMC,EAAU,mCACVC,EAAa,2DAEbC,EAAWC,SAASC,cAAc,S,SAiBzBC,I,OAAAA,EAAfC,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,I,IACMC,EAKEC,EACAC,E,yEANFF,EAAS,GACbR,EAASW,UAAY,GAGJ,qD,SACEC,EADF,sD,OACXH,EAAII,EAAAC,KACJJ,EAAOD,EAAKM,SAASC,KAC3BR,GAAkBS,EAAeP,EAAK,IAGtCV,EAASkB,mBAAmB,YAAaV,G,4CAXdW,MAAAC,KAAAC,U,CAeT,SAAXJ,EAAeP,GACtB,IAAMY,EAAQZ,EAAKa,SAASC,KAGtBC,EACgB,IAApBf,EAAKgB,WACD,4BAAmDC,OAAvBjB,EAAKgB,WAAW,GAAGE,KAC/C,kCAEEC,EAAmDnB,EAAnDmB,IAAKC,EAA8CpB,EAA9CoB,aAAcC,EAAgCrB,EAAhCqB,SAAUC,EAAsBtB,EAAtBsB,SAAUC,EAAYvB,EAAZuB,QAI/C,MAAO,8DAIwCN,OAFzBF,EAAS,mHAIjBE,OAFiCG,EAAa,iEAG7BH,OADJ,aACd,oBACGA,OADeE,EAAI,wBAGQF,OAFd,uBAA2C,0EAI1DA,OAF6BL,EAAM,2DAONK,OAL7BI,EAASG,OAAS,IACdH,EAASI,UAAU,EAAG,KAAO,MAC7BJ,EACL,sGAKuCJ,OAHT,IAAIS,KACjCJ,GACAK,qBAAqB,gEACyBV,OAARM,EAAQ,wG,UAS/CrB,EAAY0B,G,OAAZC,EAAWpB,MAAAC,KAAAC,U,UAAXkB,I,OAAAA,EAAfnC,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,EAA2B+B,G,2FAEVE,MACX,GAA0Bb,OAAvB5B,EAAW,cAA+B4B,OAAnBW,EAAM,eAAqBX,OAAR7B,IAC7C2C,MAAK,SAAAC,G,OAAQA,EAAKC,M,4EAEpBC,QAAQC,MAAKhC,EAAAiC,I,yDANS3B,MAAAC,KAAAC,U,EAlEN,WAChB,GAAiC,IAA7BrB,EAAS+C,SAASb,OAAc,CAChCU,QAAQI,IAAI,SAEZhD,EAASW,UADM,4D,CAEjBiC,QAAQI,IAAI,Y,CAXlBC,G,WAee9C,EAAcgB,MAAAC,KAAAC,U,CAb7B6B,GAkFaC,OAAOC,KAAKC,cAEpBC,QAAO,SAAAC,G,MAAO,wBAAwBC,KAAKD,E,IAAME,SAAQ,SAAAF,GAC5D,IAAMG,EAAQL,aAAaM,QAAQJ,GACnCX,QAAQI,IAAI,sBAA8BrB,OAAR4B,EAAI,MAAU5B,OAAN+B,G","sources":["src/js/read-markup.js"],"sourcesContent":["const API_KEY = 'u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn';\nconst URL_SEARCH = 'https://api.nytimes.com/svc/search/v2/articlesearch.json';\n\nconst readList = document.querySelector('.read');\n\nisReadEmpty();\n// getReadNews(100000008677561);\ncreateReadPage();\n\n\n// Для порожньої сторінки\nfunction isReadEmpty() {\n    if (readList.children.length === 0) {\n        console.log('empty');\n        const markup = '<li class=\"read-item-empty\"><h2>Nothing read yet</h2></li>';\n        readList.innerHTML = markup;\n    } console.log('Not empty');\n};\n\n// Формуємо сторінку\nasync function createReadPage() {\n  let markup = '';\n  readList.innerHTML = '';\n  //   for (let i = 0; i < localStorage.length; i++) {\n  //     let storageKey = localStorage.key(i);\n  let storageKey = \"nyt://article/59fa3c31-ddd7-562c-ab32-e202a892d697\";\n  const data = await getReadNews(storageKey);\n  const news = data.response.docs;\n  markup = markup + createReadNews(news[0]);\n// }\n  \n  readList.insertAdjacentHTML('beforeend', markup);\n}\n\n// Формуємо картку новини\nfunction createReadNews(news) {\n  const title = news.headline.main;\n  const isFavorite = true;\n\n  const photoUrl =\n    news.multimedia !== 0\n      ? `https://static01.nyt.com/${news.multimedia[0].url}`\n      : 'https://via.placeholder.com/400';\n\n  const { _id, section_name, abstract, pub_date, web_url } = news;\n\n\n\n  return `\n          <div class=\"news-card\">\n            <img src=\"${photoUrl}\" alt=\"заглушка\" />\n            <div class=\"news-card__info\">\n              <div class=\"news-card__category\">${section_name}</div>\n              <button class=\"news-card__favorite-btn ${\n                isFavorite ? 'active_btn' : ''\n              }\" data-news-id=\"${_id}\">\n                ${isFavorite ? 'Remove from Favorite' : 'Add to Favorite'}\n              </button>\n              <h2 class=\"news-card__title\">${title}</h2>\n              <p class=\"news-card__description\">${\n                abstract.length > 100\n                  ? abstract.substring(0, 100) + '...'\n                  : abstract\n              }</p>\n              <div class=\"news-card__date-div\">\n              <div class=\"news-card__date\">${new Date(\n                pub_date\n              ).toLocaleDateString()}</div>\n              <a class=\"news-card__read-more\" href=\"${web_url}\" target=\"_blank\">Read more</a>\n              </div>\n            </div>\n          </div>\n        `;\n}\n\n// Відправляємо запит\n\nasync function getReadNews(query) {\n  try {\n    return await fetch(\n      `${URL_SEARCH}?fq=_id:(\"${query}\")&api-key=${API_KEY}`\n    ).then(resp => resp.json());\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n\n// Перевірка наявності в локал сторідж ключів потрібного формата\nconst keys = Object.keys(localStorage);\n\nkeys.filter(key => /^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(key)).forEach(key => {\n  const value = localStorage.getItem(key);\n  console.log(`Значення для ключа ${key}: ${value}`);\n});"],"names":["$bpxeT","parcelRequire","$51c7857e68022812$var$API_KEY","$51c7857e68022812$var$URL_SEARCH","$51c7857e68022812$var$readList","document","querySelector","$51c7857e68022812$var$_createReadPage","$parcel$interopDefault","$2TvXO","mark","_callee","markup","data","news","innerHTML","$51c7857e68022812$var$getReadNews","_ctx","sent","response","docs","$51c7857e68022812$var$createReadNews","insertAdjacentHTML","apply","this","arguments","title","headline","main","photoUrl","multimedia","concat","url","_id","section_name","abstract","pub_date","web_url","length","substring","Date","toLocaleDateString","query","$51c7857e68022812$var$_getReadNews","fetch","then","resp","json","console","error","t0","children","log","$51c7857e68022812$var$isReadEmpty","$51c7857e68022812$var$createReadPage","Object","keys","localStorage","filter","key","test","forEach","value","getItem"],"version":3,"file":"read.c616f8de.js.map"}