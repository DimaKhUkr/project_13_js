{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAkBC,SAASC,eAAe,qBAaZ,SAA3BC,IACP,IAAIC,EAAS,GAEbJ,EAAgBK,UAAY,GAE5B,MAAMC,GAAc,EAAAR,EAAAS,iBApBD,kBAqBCC,IAAhBF,GACJA,EAAYG,SAAQC,GAASN,GAiBH,SAAIM,GAE9B,MAAMC,IAAEA,EAAGC,aAAEA,EAAYC,SAAEA,EAAQC,SAAEA,EAAQC,QAAEA,EAAOC,SAAEA,EAAQC,MAAEA,GAChEP,EACF,MAAO,kEAEiBM,uHAEyBJ,8GAEnBD,0HAGeM,6DAE7BJ,EAASK,OAAS,IACdL,EAASM,UAAU,EAAG,KAAO,MAC7BN,0GAGyB,IAAIO,KACjCN,GACAO,4HAEQN,gJ,CAzCuBO,CAAuBZ,KAGvD,KAAXN,QAAiCI,IAAhBF,IAA2BF,EAOzC,sIALPJ,EAAgBuB,mBAAmB,YAAanB,E,CAvBlDD,IAEAH,EAAgBwB,iBAAiB,SAASC,IAEzB,OADAA,EAAMC,OAAOC,QAAQ,+BAElC,EAAA7B,EAAA8B,oBAAmBH,GACnBtB,I","sources":["src/js/favorites.js"],"sourcesContent":["import { loadFromStorage, toggleFavoriteNews } from './local-storage';\n\nconst STOR_KEY_FAV = 'favorites';\n\nconst placeForFavNews = document.getElementById('favorite-articles');\n\ncreateFavoritePage();\n\nplaceForFavNews.addEventListener('click', event => {\n  const button = event.target.closest('.news-card__favorite-btn');\n  if (button !== null) {\n    toggleFavoriteNews(event);\n    createFavoritePage();\n  }\n});\n\n// ----- функція створення сторінки обраних новин\nfunction createFavoritePage() {\n  let markup = '';\n\n  placeForFavNews.innerHTML = '';\n\n  const currentData = loadFromStorage(STOR_KEY_FAV);\n  if (currentData !== undefined) { \n  currentData.forEach(news => (markup = markup + createFavoriteNewsCard(news)));\n  }\n  \n  if (markup === '' || currentData === undefined) markup = noNewsInFavorite();\n\n  placeForFavNews.insertAdjacentHTML('beforeend', markup);\n}\n\n// ----- функція картинки коли нема вибраних новин\nfunction noNewsInFavorite() {\n  return `\n  <div class=\"favorite-news__none\">\n    <p class=\"favorite-news__none__title\">We haven't found news on this page</p>\n  </div>`;\n}\n\n// ----- функція створення картки новини\nfunction createFavoriteNewsCard(news) {\n\n  const { _id, section_name, abstract, pub_date, web_url, photoUrl, title } =\n    news;\n  return `\n            <div class=\"news-card\">\n              <img src=\"${photoUrl}\" alt=\"заглушка\" />\n              <div class=\"news-card__info\">\n                <div class=\"news-card__category\">${section_name}</div>\n                <button class=\"news-card__favorite-btn active_btn\"\n                data-news-id=\"${_id}\">\n                  'Remove from Favorite'\n                </button>\n                <h2 class=\"news-card__title\">${title}</h2>\n                <p class=\"news-card__description\">${\n                  abstract.length > 100\n                    ? abstract.substring(0, 100) + '...'\n                    : abstract\n                }</p>\n                <div class=\"news-card__date-div\">\n                <div class=\"news-card__date\">${new Date(\n                  pub_date\n                ).toLocaleDateString()}</div>\n                <button class=\"btn-read-more news-card__read-more\">\n                <ahref=\"${web_url}\" target=\"_blank\">Read more</ahref=>\n                </button>\n                </div>\n              </div>\n            </div>\n          `;\n}\n\n"],"names":["$b5rV1","parcelRequire","$7f07f86ee49d81c7$var$placeForFavNews","document","getElementById","$7f07f86ee49d81c7$var$createFavoritePage","markup","innerHTML","currentData","loadFromStorage","undefined","forEach","news","_id","section_name","abstract","pub_date","web_url","photoUrl","title","length","substring","Date","toLocaleDateString","$7f07f86ee49d81c7$var$createFavoriteNewsCard","insertAdjacentHTML","addEventListener","event","target","closest","toggleFavoriteNews"],"version":3,"file":"favorite.72bce7c1.js.map"}