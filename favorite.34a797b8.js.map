{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAKMC,EAAkBC,SAASC,eAAe,qBAaZ,SAA3BC,IACP,IAAIC,EAAS,GAEbJ,EAAgBK,UAAY,GAE5B,IAAMC,GAAc,EAAAR,EAAAS,iBApBD,kBAqBCC,IAAhBF,GACJA,EAAYG,SAAQ,SAAAC,G,OAASN,GAiBH,SAAIM,GAE9B,IAAQC,EACND,EADMC,IAAKC,EACXF,EADWE,aAAcC,EACzBH,EADyBG,SAAUC,EACnCJ,EADmCI,SAAUC,EAC7CL,EAD6CK,QAASC,EACtDN,EADsDM,SAAUC,EAChEP,EADgEO,MAElE,MAAO,4CAEiBC,OADeP,EAAI,gCAGMO,OAFzBF,EAAS,uHAIHE,OAFmBN,EAAa,8GAKjBM,OAHfP,EAAI,wHAKlBO,OAF6BD,EAAM,6DAONC,OAL7BL,EAASM,OAAS,IACdN,EAASO,UAAU,EAAG,KAAO,MAC7BP,EACL,0GAMUK,OAJoB,IAAIG,KACjCP,GACAQ,qBAAqB,0GAEJJ,OAARH,EAAQ,2I,CAzCcQ,CAAuBb,E,IAGvD,KAAXN,QAAiCI,IAAhBF,IAA2BF,EAOxC,sIALRJ,EAAgBwB,mBAAmB,YAAapB,E,CAvBlDD,IAEAH,EAAgByB,iBAAiB,SAAS,SAAAC,GAEzB,OADAA,EAAMC,OAAOC,QAAQ,+BAElC,EAAA9B,EAAA+B,oBAAmBH,GACnBvB,I,IA6DJH,EAAgByB,iBAAiB,QAASK,EAAAC,W","sources":["src/js/favorites.js"],"sourcesContent":["import { loadFromStorage, toggleFavoriteNews } from './local-storage';\nimport {onReadCard} from './alredy-read';\n\nconst STOR_KEY_FAV = 'favorites';\n\nconst placeForFavNews = document.getElementById('favorite-articles');\n\ncreateFavoritePage();\n\nplaceForFavNews.addEventListener('click', event => {\n  const button = event.target.closest('.news-card__favorite-btn');\n  if (button !== null) {\n    toggleFavoriteNews(event);\n    createFavoritePage();\n  }\n});\n\n// ----- функція створення сторінки обраних новин\nfunction createFavoritePage() {\n  let markup = '';\n\n  placeForFavNews.innerHTML = '';\n\n  const currentData = loadFromStorage(STOR_KEY_FAV);\n  if (currentData !== undefined) { \n  currentData.forEach(news => (markup = markup + createFavoriteNewsCard(news)));\n  }\n  \n  if (markup === '' || currentData === undefined) markup = noNewsInFavorite();\n\n  placeForFavNews.insertAdjacentHTML('beforeend', markup);\n}\n\n// ----- функція картинки коли нема вибраних новин\nfunction noNewsInFavorite() {\n  return `\n  <div class=\"favorite-news__none\">\n    <p class=\"favorite-news__none__title\">We haven't found news on this page</p>\n  </div>`;\n}\n\n// ----- функція створення картки новини\nfunction createFavoriteNewsCard(news) {\n\n  const { _id, section_name, abstract, pub_date, web_url, photoUrl, title } =\n    news;\n  return `\n            <div class=\"news-card\" id=\"${_id}\">\n              <img src=\"${photoUrl}\" alt=\"заглушка\" />\n              <div class=\"news-card__info\">\n                <div class=\"news-card__category\">${section_name}</div>\n                <button class=\"news-card__favorite-btn active_btn\"\n                data-news-id=\"${_id}\">\n                  Remove from Favorite\n                </button>\n                <h2 class=\"news-card__title\">${title}</h2>\n                <p class=\"news-card__description\">${\n                  abstract.length > 100\n                    ? abstract.substring(0, 100) + '...'\n                    : abstract\n                }</p>\n                <div class=\"news-card__date-div\">\n                <div class=\"news-card__date\">${new Date(\n                  pub_date\n                ).toLocaleDateString()}</div>\n                <button class=\"btn-read-more news-card__read-more\">\n                <a href=\"${web_url}\" target=\"_blank\">Read more</a>\n                </button>\n                </div>\n              </div>\n            </div>\n          `;\n}\n\nplaceForFavNews.addEventListener('click', onReadCard);"],"names":["$4LMMA","parcelRequire","$6befdf793f7dd1b0$var$placeForFavNews","document","getElementById","$6befdf793f7dd1b0$var$createFavoritePage","markup","innerHTML","currentData","loadFromStorage","undefined","forEach","news","_id","section_name","abstract","pub_date","web_url","photoUrl","title","concat","length","substring","Date","toLocaleDateString","$6befdf793f7dd1b0$var$createFavoriteNewsCard","insertAdjacentHTML","addEventListener","event","target","closest","toggleFavoriteNews","$53pyw","onReadCard"],"version":3,"file":"favorite.34a797b8.js.map"}