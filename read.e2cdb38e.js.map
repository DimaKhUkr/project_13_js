{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SACiBC,SAASC,cAAc,SAE/BC,iBAAiB,SAAS,SAAAC,GACjCC,QAAQC,IAAI,SAEG,OADAF,EAAMG,OAAOC,QAAQ,8BAElC,EAAAT,EAAAU,oBAAmBL,E,IAOvB,IA+BQM,EA/BFC,EAAWV,SAASC,cAAc,SAWlCU,EAAeC,OAAOC,YACtBC,EAAed,SAASC,cAAc,UAAUc,aAChDC,EAAehB,SAASC,cAAc,UAAUc,aAChDE,EAAajB,SAASC,cAAc,mBAAmBc,aAEvDG,EAAOlB,SAASC,cAAc,mBAE9BkB,EAAcL,EAAeG,EAAaD,EAEhD,GAAIG,EAAcR,EAAc,CAEuB,IAA/CS,EAAOT,EAAeQ,EAEsBD,EAA7CG,MAAMC,UAAYJ,EAAKH,aAAeK,EAAO,I,CAO5CX,EAAK,wBAECc,OAAOC,KAAKC,cAAcC,MAAK,SAAAC,G,OAAKlB,EAAMmB,KAAKD,E,KAQb,WAEX,IAA7BH,EAAOD,OAAOC,KAAKC,cAGnBI,EAAiB,GAGlBC,GAAS,EAATC,GAAS,EAATC,OAASC,E,IAAd,QAAKC,EAAAC,EAAaX,EAAIY,OAAAC,cAAjBP,GAAAI,EAAAC,EAASG,QAAAC,MAATT,GAAS,EAAU,CAAnB,IAAMU,EAANN,EAASO,MAGZ,GADW,wBACDb,KAAKY,GAAM,CAE2B,IAAxCE,EAAWC,KAAKC,MAAMnB,aAAaoB,QAAQL,IAEZX,EAAtBW,GAAOE,C,YAPrBX,GAAS,EAATC,EAASc,C,aAAThB,GAAS,MAATK,EAASY,QAATZ,EAASY,Q,YAAThB,E,MAAAC,C,EAWmC,IAApCgB,EAAS,GACRC,GAAS,EAATC,GAAS,EAATC,OAASlB,E,IAAd,QAAKmB,EAAAC,EAAa9B,OAAOC,KAAKK,GAAeO,OAAAC,cAAxCY,GAAAG,EAAAC,EAASf,QAAAC,MAATU,GAAS,EAAiC,CAA1C,IAAMK,EAANF,EAASX,MAEUO,GAAZ,yFAEsBO,OAAJD,EAAI,sG,IAM3BE,GAAa,EAAbC,GAAa,EAAbC,OAAazB,E,IAAlB,QAAK0B,EAAAC,EAAiB/B,EAAeyB,GAAIlB,OAAAC,cAApCmB,GAAAG,EAAAC,EAAatB,QAAAC,MAAbiB,GAAa,EAAyB,CAAtC,IAAMK,EAANF,EAAalB,MAEVqB,GAAa,EAAAhE,EAAAiE,mBAAkBF,EAAQG,WAC7ChB,GAAU,iEAIiCO,OAF1BM,EAAQI,IAAI,8HAInBV,OAFiCM,EAAQK,SAAS,iEAGjCX,OADjBO,EAAa,aAAe,GAC7B,oBACGP,OADeM,EAAQG,UAAU,wBAGXT,OAFtBO,EAAa,uBAAyB,kBAAkB,qEAIhEP,OAF8BM,EAAQM,MAAM,gEAM1CZ,OAJFM,EAAQO,YAAY,kHAMmBb,OAFrCM,EAAQQ,SAAS,oEAEgCd,OAAZM,EAAQS,IAAI,uH,WArBpDb,GAAa,EAAbC,EAAaZ,C,aAAbU,GAAa,MAAbI,EAAab,QAAba,EAAab,Q,YAAbU,E,MAAAC,C,EA6BLV,GAAU,O,WAvCPE,GAAS,EAATC,EAASoB,C,aAATtB,GAAS,MAATI,EAASN,QAATM,EAASN,Q,YAATG,E,MAAAC,C,EA0CLzC,EAAS8D,UAAYxB,C,CAnEcyB,E","sources":["src/js/read-markup.js"],"sourcesContent":["// Для кнопок read more та favorite\nimport { toggleFavoriteNews, isNewsInFavorites } from './local-storage';\nconst readMain = document.querySelector('.read');\n\nreadMain.addEventListener('click', event => {\n  console.log('click');\n  const button = event.target.closest('.news-card__favorite-btn');\n  if (button !== null) {\n    toggleFavoriteNews(event);\n  }\n});\n\n// const API_KEY = 'u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn';\n// const URL_SEARCH = 'https://api.nytimes.com/svc/search/v2/articlesearch.json';\n\nconst readList = document.querySelector('.read');\n\n// document.querySelector('body').style.minHeight = window.innerHeight + 'px';\n// isReadEmpty();\n// getReadKeys();\n\n// readMarkup();\n// testMarkupWithFilter();\n// createReadPage();\n\n// Задаємо мінімальну висоту сторінки\nconst windowHeight = window.innerHeight;\nconst headerHeight = document.querySelector('header').offsetHeight;\nconst footerHeight = document.querySelector('footer').offsetHeight;\nconst mainHeight = document.querySelector('.read-container').offsetHeight;\n\nconst main = document.querySelector('.read-container');\n\nconst totalHeight = headerHeight + mainHeight + footerHeight;\n\nif (totalHeight < windowHeight) {\n  // розраховуємо різницю між висотою вьюпорта і висотою сторінки\n  const diff = windowHeight - totalHeight;\n  // робимо мінімальну висоту сторінки рівною висоті вьюпорта\n  main.style.minHeight = main.offsetHeight + diff + 'px';\n}\n\nisReadArticles();\n\nfunction isReadArticles() {\n  // регулярний вираз для перевірки формату ключа\n  const regex = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n  // перевіряємо наявність ключа з потрібним форматом\n  const key = Object.keys(localStorage).find(k => regex.test(k));\n  if (key) {\n    // якщо ключ знайдено, викликаємо функцію\n    readMarkup();\n  }\n}\n\n// Розмітка для сторінки, якщо є записи в локальному сховищі\nfunction readMarkup() {\n  // отримуємо всі ключі з локального сховища\n  const keys = Object.keys(localStorage);\n\n  // створюємо об'єкт для зберігання списку статей за датами\n  const articlesByDate = {};\n\n  // перебираємо всі ключі з локального сховища\n  for (const key of keys) {\n    // перевіряємо, чи є ключ датою у форматі 02/03/2023\n    const regex = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n    if (regex.test(key)) {\n      // якщо ключ є датою, отримуємо список статей для цієї дати\n      const articles = JSON.parse(localStorage.getItem(key));\n      // додаємо цей список статей до списку за датою\n      articlesByDate[key] = articles;\n    }\n  }\n  // створюємо HTML-розмітку для списку статей за датами\n  let markup = '';\n  for (const key of Object.keys(articlesByDate)) {\n    // додаємо заголовок з датою\n    markup += `<li class=\"read-item\">\n      <div class=\"read-title\">\n        <h2 class=\"read-date\">${key}</h2>\n        <div class=\"read-arrow\"></div>\n      </div>\n      <ul class=\"read-gallery\">\n    `;\n    // створюємо список статей\n    for (const article of articlesByDate[key]) {\n      // додаємо картку статті\n      const isFavorite = isNewsInFavorites(article.favoritId);\n      markup += `<li>\n          <div class=\"news-card\">\n            <img src=${article.img} alt=\"Article illustration\" />\n            <div class=\"news-card__info\">\n              <div class=\"news-card__category\">${article.category}</div>\n              <button class=\"news-card__favorite-btn ${\n                isFavorite ? 'active_btn' : ''\n              }\" data-news-id=\"${article.favoritId}\">\n                ${isFavorite ? 'Remove from Favorite' : 'Add to Favorite'}\n              </button>\n         <h2 class=\"news-card__title\">${article.title}</h2>\n         <p class=\"news-card__description\">\n        ${article.description}\n        </p>\n        <div class=\"news-card__date-div\">\n          <div class=\"news-card__date\">\n          ${article.dateRead}\n       </div>\n         <a class=\"news-card__read-more\" href=\"${article.url}\" target=\"_blank\"\n         >Read more</a\n        >\n         </div>\n        </div>\n        </div>\n        </li>`;\n    }\n    markup += '</ul>';\n  }\n  // вставляємо HTML-розмітку в елемент\n  readList.innerHTML = markup;\n}\n"],"names":["$4LMMA","parcelRequire","document","querySelector","addEventListener","event","console","log","target","closest","toggleFavoriteNews","regex","$51c7857e68022812$var$readList","$51c7857e68022812$var$windowHeight","window","innerHeight","$51c7857e68022812$var$headerHeight","offsetHeight","$51c7857e68022812$var$footerHeight","$51c7857e68022812$var$mainHeight","$51c7857e68022812$var$main","$51c7857e68022812$var$totalHeight","$51c7857e68022812$var$diff","style","minHeight","Object","keys","localStorage","find","k","test","articlesByDate","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","key","value","articles","JSON","parse","getItem","err","return","markup","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","key1","concat","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","article","isFavorite","isNewsInFavorites","favoritId","img","category","title","description","dateRead","url","err1","innerHTML","$51c7857e68022812$var$readMarkup"],"version":3,"file":"read.e2cdb38e.js.map"}