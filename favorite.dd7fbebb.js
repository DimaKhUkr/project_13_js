const e=document.getElementById("favorite-articles");async function t(){let t="";e.innerHTML="";for(let e=0;e<localStorage.length;e++){let s=localStorage.key(e);if(s.includes("favorite")){let e=s.slice(9,s.length);t+=n((await a(e)).response.docs[0])}}e.insertAdjacentHTML("beforeend",t)}function n(e){const t=e.headline.main,n=0!==e.multimedia?`https://static01.nyt.com/${e.multimedia[0].url}`:"https://via.placeholder.com/400",{_id:a,section_name:s,abstract:c,pub_date:i,web_url:r}=e;return`\n          <div class="news-card">\n            <img src="${n}" alt="заглушка" />\n            <div class="news-card__info">\n              <div class="news-card__category">${s}</div>\n              <button class="news-card__favorite-btn active" data-news-id="${a}">\n                Remove from Favorite\n              </button>\n              <h2 class="news-card__title">${t}</h2>\n              <p class="news-card__description">${c.length>100?c.substring(0,100)+"...":c}</p>\n              <div class="news-card__date-div">\n              <div class="news-card__date">${new Date(i).toLocaleDateString()}</div>\n              <a class="news-card__read-more" href="${r}" target="_blank">Read more</a>\n              </div>\n            </div>\n          </div>\n        `}async function a(e){try{return await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=_id:("${e}")&api-key=u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn`).then((e=>e.json()))}catch(e){console.error(e)}}t(),e.addEventListener("click",(e=>{null!==e.target.closest(".news-card__favorite-btn")&&function(e){const n=e.target.dataset.newsId;localStorage.removeItem(`favorite_${n}`),t()}(e)}));
//# sourceMappingURL=favorite.dd7fbebb.js.map
