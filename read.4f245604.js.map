{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SACiBC,SAASC,cAAc,SAE/BC,iBAAiB,SAASC,IACjCC,QAAQC,IAAI,SAEG,OADAF,EAAMG,OAAOC,QAAQ,8BAElC,EAAAT,EAAAU,oBAAmBL,EAAM,IAO7B,MAAMM,EAAWT,SAASC,cAAc,SAWlCS,EAAeC,OAAOC,YACtBC,EAAeb,SAASC,cAAc,UAAUa,aAChDC,EAAef,SAASC,cAAc,UAAUa,aAChDE,EAAahB,SAASC,cAAc,mBAAmBa,aAEvDG,EAAOjB,SAASC,cAAc,mBAE9BiB,EAAcL,EAAeG,EAAaD,EAEhD,GAAIG,EAAcR,EAAc,CAEuB,MAA/CS,EAAOT,EAAeQ,EAEsBD,EAA7CG,MAAMC,UAAYJ,EAAKH,aAAeK,EAAO,I,EAKpD,WAEyC,MAAjCG,EAAK,wBAECC,OAAOC,KAAKC,cAAcC,MAAKC,GAAKL,EAAMM,KAAKD,MAQb,WAEX,MAA7BH,EAAOD,OAAOC,KAAKC,cAGnBI,EAAiB,GAGc,IAAhC,MAAMC,KAAON,EAAM,CAGtB,GADW,wBACDI,KAAKE,GAAM,CAE2B,MAAxCC,EAAWC,KAAKC,MAAMR,aAAaS,QAAQJ,IAEZD,EAAtBC,GAAOC,C,EAIc,IAApCI,EAAS,GACb,IAAK,MAAMC,KAAOb,OAAOC,KAAKK,GAAiB,CAEvBM,GAAZ,yFAEkBC,sGAMP,IAAhB,MAAMC,KAAWR,EAAeO,GAAM,CAEtB,MAAbE,GAAa,EAAAxC,EAAAyC,mBAAkBF,EAAQG,WAC7CL,GAAU,iEAEOE,EAAQI,gIAEkBJ,EAAQK,wEAEzCJ,EAAa,aAAe,qBACXD,EAAQG,gCACvBF,EAAa,uBAAyB,qFAEhBD,EAAQM,oEAEtCN,EAAQO,4HAINP,EAAQQ,2EAE6BR,EAAQS,yH,CAQrDX,GAAU,O,CAGZ1B,EAASsC,UAAYZ,C,CAnEca,E,CATrCC","sources":["src/js/read-markup.js"],"sourcesContent":["// Для кнопок read more та favorite\nimport { toggleFavoriteNews, isNewsInFavorites } from './local-storage';\nconst readMain = document.querySelector('.read');\n\nreadMain.addEventListener('click', event => {\n  console.log('click');\n  const button = event.target.closest('.news-card__favorite-btn');\n  if (button !== null) {\n    toggleFavoriteNews(event);\n  }\n});\n\n// const API_KEY = 'u59IF6VhLyuj5qt5wMVcLGGSUKapZTsn';\n// const URL_SEARCH = 'https://api.nytimes.com/svc/search/v2/articlesearch.json';\n\nconst readList = document.querySelector('.read');\n\n// document.querySelector('body').style.minHeight = window.innerHeight + 'px';\n// isReadEmpty();\n// getReadKeys();\n\n// readMarkup();\n// testMarkupWithFilter();\n// createReadPage();\n\n// Задаємо мінімальну висоту сторінки\nconst windowHeight = window.innerHeight;\nconst headerHeight = document.querySelector('header').offsetHeight;\nconst footerHeight = document.querySelector('footer').offsetHeight;\nconst mainHeight = document.querySelector('.read-container').offsetHeight;\n\nconst main = document.querySelector('.read-container');\n\nconst totalHeight = headerHeight + mainHeight + footerHeight;\n\nif (totalHeight < windowHeight) {\n  // розраховуємо різницю між висотою вьюпорта і висотою сторінки\n  const diff = windowHeight - totalHeight;\n  // робимо мінімальну висоту сторінки рівною висоті вьюпорта\n  main.style.minHeight = main.offsetHeight + diff + 'px';\n}\n\nisReadArticles();\n\nfunction isReadArticles() {\n  // регулярний вираз для перевірки формату ключа\n  const regex = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n  // перевіряємо наявність ключа з потрібним форматом\n  const key = Object.keys(localStorage).find(k => regex.test(k));\n  if (key) {\n    // якщо ключ знайдено, викликаємо функцію\n    readMarkup();\n  }\n}\n\n// Розмітка для сторінки, якщо є записи в локальному сховищі\nfunction readMarkup() {\n  // отримуємо всі ключі з локального сховища\n  const keys = Object.keys(localStorage);\n\n  // створюємо об'єкт для зберігання списку статей за датами\n  const articlesByDate = {};\n\n  // перебираємо всі ключі з локального сховища\n  for (const key of keys) {\n    // перевіряємо, чи є ключ датою у форматі 02/03/2023\n    const regex = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n    if (regex.test(key)) {\n      // якщо ключ є датою, отримуємо список статей для цієї дати\n      const articles = JSON.parse(localStorage.getItem(key));\n      // додаємо цей список статей до списку за датою\n      articlesByDate[key] = articles;\n    }\n  }\n  // створюємо HTML-розмітку для списку статей за датами\n  let markup = '';\n  for (const key of Object.keys(articlesByDate)) {\n    // додаємо заголовок з датою\n    markup += `<li class=\"read-item\">\n      <div class=\"read-title\">\n        <h2 class=\"read-date\">${key}</h2>\n        <div class=\"read-arrow\"></div>\n      </div>\n      <ul class=\"read-gallery\">\n    `;\n    // створюємо список статей\n    for (const article of articlesByDate[key]) {\n      // додаємо картку статті\n      const isFavorite = isNewsInFavorites(article.favoritId);\n      markup += `<li>\n          <div class=\"news-card\">\n            <img src=${article.img} alt=\"Article illustration\" />\n            <div class=\"news-card__info\">\n              <div class=\"news-card__category\">${article.category}</div>\n              <button class=\"news-card__favorite-btn ${\n                isFavorite ? 'active_btn' : ''\n              }\" data-news-id=\"${article.favoritId}\">\n                ${isFavorite ? 'Remove from Favorite' : 'Add to Favorite'}\n              </button>\n         <h2 class=\"news-card__title\">${article.title}</h2>\n         <p class=\"news-card__description\">\n        ${article.description}\n        </p>\n        <div class=\"news-card__date-div\">\n          <div class=\"news-card__date\">\n          ${article.dateRead}\n       </div>\n         <a class=\"news-card__read-more\" href=\"${article.url}\" target=\"_blank\"\n         >Read more</a\n        >\n         </div>\n        </div>\n        </div>\n        </li>`;\n    }\n    markup += '</ul>';\n  }\n  // вставляємо HTML-розмітку в елемент\n  readList.innerHTML = markup;\n}\n"],"names":["$b5rV1","parcelRequire","document","querySelector","addEventListener","event","console","log","target","closest","toggleFavoriteNews","$a6108ac09bc68599$var$readList","$a6108ac09bc68599$var$windowHeight","window","innerHeight","$a6108ac09bc68599$var$headerHeight","offsetHeight","$a6108ac09bc68599$var$footerHeight","$a6108ac09bc68599$var$mainHeight","$a6108ac09bc68599$var$main","$a6108ac09bc68599$var$totalHeight","diff","style","minHeight","regex","Object","keys","localStorage","find","k","test","articlesByDate","key","articles","JSON","parse","getItem","markup","key1","article","isFavorite","isNewsInFavorites","favoritId","img","category","title","description","dateRead","url","innerHTML","$a6108ac09bc68599$var$readMarkup","$a6108ac09bc68599$var$isReadArticles"],"version":3,"file":"read.4f245604.js.map"}